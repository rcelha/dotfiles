#!/bin/sh

set -ex

if [ ! `which stow` ]; then
    echo Install GNU stow
    echo exit; exit 1
fi;

# Prepare
mkdir -p ~/.vim
mkdir -p ~/.ssh/config.d
mkdir -p ~/.config/nvim
mkdir -p ~/local/bin
mkdir -p ~/.config/kitty
mkdir -p ~/.config/environment.d/

# Install
stow -t ~ general
stow -t ~ sources
stow -t ~ tmux
stow -t ~/ -d vim vimrc
stow -t ~/.config/nvim -d vim nvim
stow -t ~/.vim -d vim vim
stow -t ~ zsh
stow -t ~/.ssh ssh
stow -t ~/local/bin -d ./local/bin/ .
stow -t ~/.config/kitty -d ./config/kitty/ .
stow -t ~/.config/environment.d -d ./config/environment.d/ .

# Install vim plugins
vim -c "PlugInstall|qa" 
